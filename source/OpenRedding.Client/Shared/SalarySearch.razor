@inherits Fluxor.Blazor.Web.Components.FluxorComponent

@using Fluxor
@using OpenRedding.Client.Store.Features.Salaries.Actions.LoadEmployeeSalaries 
@using OpenRedding.Client.Components 

@inject IDispatcher Dispatcher
@inject NavigationManager Navigation

@* Salary search *@
<div class="form-group row px-2">

    @* Name *@
    <div class="col-md-3">
        <ValidatedInput FieldLabel="Name" InputId="salary-search-name" LabelCss="col-form-label text-white" />
    </div>

    @* Job title *@
    <div class="col-md-3">
        <ValidatedInput FieldLabel="Job Title" InputId="salary-search-job-title" LabelCss="col-form-label text-white" />
    </div>

    @* Agency *@
    <div class="col-md-3">
        <div class="d-flex flex-column">
            <label class="col-form-label text-white-90" for="agency-dropdown">Agency</label>
            <select id="agency-dropdown" class="form-control">
                <option disabled>Select an agency</option>
                <option>All Agencies</option>
                <option>Redding</option>
                <option>Shasta County</option>
                <option>Other</option>
            </select>
        </div>
    </div>

    @* Status *@
    <div class="col-md-3">
        <div class="d-flex flex-column">
            <label class="col-form-label text-white-90" for="agency-dropdown">Status</label>
            <select id="status-dropdown" class="form-control">
                <option disabled>Select a status</option>
                <option>All Statuses</option>
                <option>Full-time</option>
                <option>Part-time</option>
                <option>Other</option>
            </select>
        </div>
    </div>

    @* Search button *@
    <div class="pt-4 d-flex flex-row mx-auto">
        <button @onclick="OnSearchClicked" class="btn btn-lg btn-info" type="button" data-toggle="tooltip" data-placement="bottom" title="To browse all salary data, leave all fields above blank">Search</button>
    </div>
</div>

@code {

    private void OnSearchClicked()
    {
        Dispatcher.Dispatch(new LoadEmployeeSalariesAction(null));
        Navigation.NavigateTo("salaries");
    }

    protected override void OnInitialized()
    {
        base.OnInitialized();
    }

}